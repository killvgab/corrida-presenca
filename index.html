<script>
    const participants = [
        { name: "Biel", color: "#ADD8E6" },
        { name: "Gigi", color: "#FFB6C1" },
        { name: "Mari", color: "#a43142" },
        { name: "Tay", color: "#D8BFD8" }
    ];
    const progress = {};
    const allowedDays = [1, 2, 3, 4, 7, 8, 9, 10, 11, 14, 15, 16, 17, 22, 23, 24, 25, 28, 29, 30];
    
    function isAllowedDay() {
        const today = new Date();
        return allowedDays.includes(today.getDate());
    }
    
    function setupRace() {
        const raceTrack = document.getElementById("raceTrack");
        participants.forEach(({ name, color }) => {
            progress[name] = 0;
            const runner = document.createElement("div");
            runner.classList.add("runner");
            runner.innerHTML = `
                <div class="character" style="background-color: ${color}"></div>
                <span>${name}</span>
                <div class="progress">
                    <div class="marker" id="marker-${name}"></div>
                </div>
                <button id="checkin-${name}">Check-in</button>
            `;
            raceTrack.appendChild(runner);
            
            // Evento de clique no botão de check-in
            document.getElementById(`checkin-${name}`).addEventListener("click", function() {
                checkIn(name);
            });
        });
    }
    
    function checkIn(name) {
        if (!isAllowedDay()) {
            alert("Hoje não é um dia útil para check-in!");
            return;
        }
        if (progress[name] < 100) {
            progress[name] += 10;
            document.getElementById(`marker-${name}`).style.left = `${progress[name]}%`;
        }
    }
    
    setupRace();
</script>
